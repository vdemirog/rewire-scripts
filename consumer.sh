#!/bin/bash

content="1      40      11      18       1       5      18       1       1
      15       1       1       1       1       1       1      77    2450
       1       1       1      10       4       7       1       1      15
       5       4       1       1       5       1     174       2      61
       2    2348      12       6      18      54       6      17       1
     215       2       1       1       2       2       3       9       9
       1       1       3       7       7       3       1       1    1472
       1       9       5       3       8       1       1       8       1
       1      52       1       2       1       1       5      15       1
       8       1      17       1      22       1       1    1092     757
      85       1       1       2       1       3       1      22       2
       1       3       2       4       1     194       1       4       1
       1       6       7       1       4       3       6       2       1
      53       3       1       1      17       1       1       2       2
       2       2       1       1       3       1       1       1       3
       1       2   15034       1       2       4       1       3       1
       1       3       1       1       1       6      64       1      31
      14       4    8039       8       5       4       2       1       5
       1      23       1      12      74       1   31618      11    4072
       5      35       1       1       2       4       1       2      11
       1       2       1       1       1       1       1       1       4
   18167       1      10       1      45       3       2       1       9
       2       9       2       1       1       3       1       1       1
   20785       2       2       5      10       3       1       1       1
       1       2       1       8      90       1     181      10       1
       3       2       1     388       2       1       5    2342       1
       1       6       1       4       1       3       2       1      59
       1       2      44     319       1       1       3      18       3
      15      18       5       1       1       1       1       1       4
      33      61       1     148       2       1       1       2    5605
       1      40       1       3       1       2       2       1      10
       1     318       2      24       1     465     320       1       1
       2       6      32       1       1       3       1       2       1
      70       2       3      32       1       2       8      18       1
       1       2       2       4   38413       1       1       1       1
       1      11       1     972       3       1       2       1       1
       1      17       1       9      43       1       1       1       2
       5       3       1      26     243       1       1       4       1
      10      16       1       3       2       2       1       4       3
       5      72     270       8     659       2       3      16     147
       7      20      88       3       3       1       2       1       2
       1      64      12       3      47       3       1       6      24
      41       2       1       2      11       3       1       1       1
       1      10       7       5     416       1       1       1       1
       5      20       2       1       5       1       2       1       6
      10       1       1       4       1       1     200       3       1
       2       9       2       1       1       2       1       1       6
       1       1       1       4       3       1       8       9       1
      55       1     183      95       2       1       1       2       1
       3       1       4     221     130       3      27       9       1
       3     134      22       2       7       3       3     385       1
       5       2       3       2      16       1       2      36       1
       3     218       4       7       4       4       1    1372       1
       1       7      59      10       2      54       1      11       1
      39       5       1      36       1      43      54     179       3
       2       2    3818       1       3       1       9       2      15
       3       1       1       1       2       1      78       4       2
       6       1       1       1       1       3      11    4185       2
       1       1       1      72       1       1       1      25       2
      86       4     126       1       1       1       1      42      15
       1       1       3       5      46       1       1      16    2197
       1       9       1      49      23      21       2       1       2
       2      29       2       3       1       2       2      14      10
       1       3       3       2       3       1       1    1175       3
      69       2       3       9       1       2      11       1       5
       1       2       1       3       6       3       4       2       2
       1       1       5       1       4       1       2     143       2
       1       2       2       2       1       1       4       3      18
       9       2       5       9       2       2       2       2       4
       1       1       1       1       3       8      40       1       3
       2       1       4       6      23       2       3       4       2
       7       2       1      13      14       1       1      12      76
      12       2      11      25       1       1       2       4       7
       1      55       1       5       6       5       2       1       6
      67       2       1      40       1       2   43333       1       1
       1       1       4      30       1       1       8       5       3
       1       7       1       1       1     604      10       2       1
    1481       1       2      48       9       1     102       6       1
       1       2      11       2 4796851      32      11     103       2
       9      20       1       7       4       2     816       1       1
       3       1       5       3     155       1      19       1       2
       4       3      20     171       3       2       1       4       5
       1       1      12       8       2     367     467       7       1
      89       2       1       4       1       4     156       1       1
      12       1       3      13       7       1       1       5       5
       2      12       1       1       1       1       5       1       5
      17       1       1       2       1       3     149       3       3
       7       1       2       5       1       1       6       1       4
       3       1       1       4      22      10       1       1     173
       2      12     179       3       1       1      20       1      19
       3       8    2881       3       1     906       1       1       3
       3       1       1       5       7      54       9       2       4
       1       2       1       4       1       4      52       1       9
     289      15       1       3      19       8       1       8       2
     123       2       3       2      24       1       1       6       1
       3       7      71     114      71      16       2       1       2
       1      12      16       4       1       1       1     749       1
       1       1       1       2       3     408       6       3       1
       1       2       1       1       1       1      11       1       3
      13       6       1       1       2       1      30     158       2
       2       2       1       1      90       3      63       1       3
       1       2      36       2     159      11      13       1       1
       2      37       2       2      15       3      32       1       1
      15       2    3563       1       1       3     936      59       2
       1       1       1       8       2       1       1       1     142
       1       2       1       1       1       2  261720       2       1
       1       1     687       3      11       4    2037       2     188
      85       1       1       1       1       8     316       1       6
       9       1       1       1     544       1       1       3       2
       2       4       1       1       1     235     111    1388      45
      21     160     103      95       9       1       2       2     318
       5"


    for k in $content
    do
	    start=$(date +%s.%3N)
	    echo ndn:/content$k | nc -q 1 10.10.10.3 7998
	    end=$(date +%s.%3N)
        delay=$(echo "scale=3; $end - $start" | bc)
        echo "Controller Delay: $delay"
	    ./ndnconf.sh ndnpeek ndn:/content$k
        sleep 1

    done

exit 0

